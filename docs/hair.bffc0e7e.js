parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"DyCs":[function(require,module,exports) {
module.exports="portrait.64f4751d.jpg";
},{}],"sSid":[function(require,module,exports) {
"use strict";var e=t(require("./portrait.jpg"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o={audio:!1,video:!0},r=document.querySelector("video");function s(e){r.classList.add("active"),r.srcObject=e,r.addEventListener("loadedmetadata",function(){var e=r,t=e.offsetHeight/e.offsetWidth,n=window.innerHeight/window.innerWidth,i=[window.innerHeight/t,window.innerHeight],a=i[0],o=i[1];if(t>n){var s=[window.innerWidth,window.innerWidth*t];a=s[0],o=s[1]}r.height=o,r.width=a})}function h(){r.srcObject.getTracks().forEach(function(e){return e.stop()})}function c(e){"ConstraintNotSatisfiedError"===e.name?errorMsg("The resolution ".concat(o.video.width.exact,"x").concat(o.video.height.exact," px is not supported by your device.")):"PermissionDeniedError"===e.name&&errorMsg("Permissions have not been granted to use your camera and microphone, you need to allow the page access to your devices in order for the demo to work.")(e)&&console.error(e)}function d(){navigator.mediaDevices.getUserMedia(o).then(function(e){return s(e)}).catch(function(e){return c(e)})}var u=function(){function t(){var i=this;n(this,t),this.node=document.getElementById("main"),this.measureScreen(),this.oldInc=null,this.canvas=document.createElement("canvas"),this.canvas.width=this.lineLength,this.canvas.height=this.rowLength;var a=this.canvas.getContext("2d"),o=new Image;this.data=[],o.onload=function(e){var t=e.target,n=t.height/t.width,r=i.canvas.height/i.canvas.width,s=[i.canvas.height/n,i.canvas.height],h=s[0],c=s[1];if(n>r){var d=[i.canvas.width,i.canvas.width*n];h=d[0],c=d[1]}a.drawImage(o,(i.canvas.width-h)/2,(i.canvas.height-c)/2,h,c),i.data=a.getImageData(0,0,i.canvas.width,i.canvas.height).data,i.step()},o.src=e.default,document.body.appendChild(this.canvas),this.mode="scroll",document.querySelector("button").addEventListener("click",function(){return i.action()})}return a(t,[{key:"action",value:function(){"scroll"==this.mode?(d(),this.mode="capture",document.querySelector("button").innerHTML="SNAP!"):"capture"==this.mode&&(this.screenShot(),document.querySelector(".container").scrollTo(0,0),this.mode="scroll",document.querySelector("button").innerHTML="DO ME")}},{key:"process",value:function(e){e=Math.max(0,Math.min(1,e));for(var t="",n=0;n<this.data.length;n+=4){var i=255-(.34*this.data[n]+.5*this.data[n+1]+.16*this.data[n+2]);t+=".:;!i=o*%@#W"[Math.round(i/255*(".:;!i=o*%@#W".length-1)*(1-e))]}this.node.innerHTML=t}},{key:"screenShot",value:function(){var e=r,t=e.height/e.width,n=this.canvas.height/this.canvas.width,i=[this.canvas.height/t,this.canvas.height],a=i[0],o=i[1];if(t>n){var s=[this.canvas.width,this.canvas.width*t];a=s[0],o=s[1]}this.canvas.getContext("2d").drawImage(r,(this.canvas.width-a)/2,(this.canvas.height-o)/2,a,o),this.data=this.canvas.getContext("2d").getImageData(0,0,this.canvas.width,this.canvas.height).data,this.process(0),h(),r.classList.remove("active")}},{key:"measureScreen",value:function(){var e=document.createElement("span");for(document.body.appendChild(e);e.offsetWidth<document.body.offsetWidth-30;)e.innerHTML+=".";for(this.lineLength=e.innerHTML.length,this.lineLength--,document.body.removeChild(e);this.node.offsetHeight<window.innerHeight-30;){var t=document.createElement("div");t.innerHTML="#",this.node.appendChild(t)}for(this.rowLength=this.node.childNodes.length;this.node.childNodes.length;)this.node.removeChild(this.node.childNodes[0]);this.node.style.width=window.innerWidth-30+"px"}},{key:"step",value:function(e){var t=this;requestAnimationFrame(function(){return t.step()});var n=document.querySelector(".container").scrollTop/window.innerHeight;null!==this.oldInc&&this.oldInc==n||(this.process(n),this.oldInc=n)}}]),t}();new u;
},{"./portrait.jpg":"DyCs"}]},{},["sSid"], null)